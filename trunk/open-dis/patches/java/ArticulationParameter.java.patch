Index: ArticulationParameter.java
===================================================================
--- ArticulationParameter.java	(revision 291)
+++ ArticulationParameter.java	(working copy)
@@ -14,14 +14,19 @@
  */
 public class ArticulationParameter implements Serializable {
 
-    protected short parameterTypeDesignator;
-    protected short changeIndicator;
-    protected int partAttachedTo;
+    protected byte parameterTypeDesignator;
+    protected byte changeIndicator;
+    protected short partAttachedTo;
     protected int parameterType;
     protected double parameterValue;
 
     /** Constructor */
     public ArticulationParameter() {
+        parameterTypeDesignator = 0;
+        changeIndicator = 0;
+        partAttachedTo = 0;
+        parameterType = 0;
+        parameterValue = 0.0d;
     }
 
     public int getMarshalledSize() {
@@ -36,7 +41,7 @@
         return marshalSize;
     }
 
-    public void setParameterTypeDesignator(short pParameterTypeDesignator) {
+    public void setParameterTypeDesignator(byte pParameterTypeDesignator) {
         parameterTypeDesignator = pParameterTypeDesignator;
     }
 
@@ -45,8 +50,14 @@
         return parameterTypeDesignator;
     }
 
-    public void setChangeIndicator(short pChangeIndicator) {
-        changeIndicator = pChangeIndicator;
+    public void setChangeIndicator(byte pChangeIndicator) {
+        
+        // Don't allow negative, or more than (2^7) - 1 -- post processing patch
+        if ((pChangeIndicator < 0) || (pChangeIndicator > Byte.MAX_VALUE)) {
+            changeIndicator = 0;
+        } else {
+            changeIndicator = pChangeIndicator;
+        }
     }
 
     @XmlAttribute
@@ -54,7 +65,7 @@
         return changeIndicator;
     }
 
-    public void setPartAttachedTo(int pPartAttachedTo) {
+    public void setPartAttachedTo(short pPartAttachedTo) {
         partAttachedTo = pPartAttachedTo;
     }
 
@@ -83,29 +94,27 @@
 
     public void marshal(DataOutputStream dos) {
         try {
-            dos.writeByte((byte) parameterTypeDesignator);
-            dos.writeByte((byte) changeIndicator);
-            dos.writeShort((short) partAttachedTo);
+            dos.writeByte(parameterTypeDesignator);
+            dos.writeByte(changeIndicator);
+            dos.writeShort(partAttachedTo);
             dos.writeInt(parameterType);
             dos.writeDouble(parameterValue);
-        } // end try
-        catch (Exception e) {
+        } catch (Exception e) {
             System.out.println(e);
         }
-    } // end of marshal method
+    }
 
     public void unmarshal(DataInputStream dis) {
         try {
-            parameterTypeDesignator = (short) dis.readUnsignedByte();
-            changeIndicator = (short) dis.readUnsignedByte();
-            partAttachedTo = dis.readUnsignedShort();
+            parameterTypeDesignator = (byte) dis.readUnsignedByte();
+            changeIndicator = (byte) dis.readUnsignedByte();
+            partAttachedTo = (short) dis.readUnsignedShort();
             parameterType = dis.readInt();
             parameterValue = dis.readDouble();
-        } // end try
-        catch (Exception e) {
+        } catch (Exception e) {
             System.out.println(e);
         }
-    } // end of unmarshal method
+    }
 
     /**
      * Packs a Pdu into the ByteBuffer.
@@ -116,12 +125,12 @@
      * @since ??
      */
     public void marshal(java.nio.ByteBuffer buff) {
-        buff.put((byte) parameterTypeDesignator);
-        buff.put((byte) changeIndicator);
-        buff.putShort((short) partAttachedTo);
+        buff.put(parameterTypeDesignator);
+        buff.put(changeIndicator);
+        buff.putShort(partAttachedTo);
         buff.putInt(parameterType);
         buff.putDouble(parameterValue);
-    } // end of marshal method
+    }
 
     /**
      * Unpacks a Pdu from the underlying data.
@@ -131,12 +140,12 @@
      * @since ??
      */
     public void unmarshal(java.nio.ByteBuffer buff) {
-        parameterTypeDesignator = (short) (buff.get() & 0xFF);
-        changeIndicator = (short) (buff.get() & 0xFF);
-        partAttachedTo = (buff.getShort() & 0xFFFF);
+        parameterTypeDesignator = (byte) (buff.get() & 0xFF);
+        changeIndicator = (byte) (buff.get() & 0xFF);
+        partAttachedTo = (short) (buff.getShort() & 0xFFFF);
         parameterType = buff.getInt();
         parameterValue = buff.getDouble();
-    } // end of unmarshal method
+    }
 
     /**
      * The equals method doesn't always work--mostly it works only on classes that consist only of primitives. Be careful.
@@ -169,4 +178,4 @@
         return ivarsEqual;
     }
 
-} // end of class file ArticluationParameter.java
+} // end of class file ArticluationParameter.java
\ No newline at end of file
